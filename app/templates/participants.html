{% extends "base.html" %}
{% block content %}
<h2>Participants</h2>
<div class="mb-3 d-flex flex-wrap gap-2">
{% for b in ['queen','king','rook','bishop','low_rank','queen_top','invited','queen_reserve','king_reserve','rook_reserve','bishop_reserve','low_rank_reserve'] %}
<a class="btn btn-sm {% if basket == b %}btn-danger{% else %}btn-outline-light{% endif %}" href="/participants?basket={{ b }}">{{ b }}</a>
{% endfor %}
</div>

<h4>Основной состав{% if users %}: {{ users|length }}{% endif %}</h4>
{% if users %}
<table class="table table-dark table-striped">
<tr><th>Nick</th><th>Steam ID</th><th>Game</th><th>Current</th><th>Highest</th><th>Telegram</th><th>Discord</th></tr>
{% for u in users %}
<tr><td>{{u.nickname}}</td><td>{{u.steam_id}}</td><td>{{u.game_nickname}}</td><td>{{u.current_rank}}</td><td>{{u.highest_rank}}</td><td>{{u.telegram or ''}}</td><td>{{u.discord or ''}}</td></tr>
{% endfor %}
</table>
{% else %}
<div class="alert alert-secondary">В данной корзине нет участников</div>
{% endif %}

{% if reserve_basket %}
<h4 class="mt-4">Резерв ({{ reserve_basket }}){% if reserve_users %}: {{ reserve_users|length }}{% endif %}</h4>
{% if reserve_users %}
<table class="table table-dark table-striped">
<tr><th>Nick</th><th>Steam ID</th><th>Game</th><th>Current</th><th>Highest</th><th>Telegram</th><th>Discord</th></tr>
{% for u in reserve_users %}
<tr><td>{{u.nickname}}</td><td>{{u.steam_id}}</td><td>{{u.game_nickname}}</td><td>{{u.current_rank}}</td><td>{{u.highest_rank}}</td><td>{{u.telegram or ''}}</td><td>{{u.discord or ''}}</td></tr>
{% endfor %}
</table>
{% else %}
<div class="alert alert-secondary">Резерв пуст</div>
{% endif %}
{% endif %}
{% endblock %}
