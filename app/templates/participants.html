{% extends "base.html" %}
{% block content %}
<h2>{{ tr('participants_title') }}</h2>
<div class="mb-3 d-flex flex-wrap gap-2">
{% for main_basket, reserve_basket in basket_pairs %}
<a class="btn btn-sm {% if basket == main_basket %}btn-danger{% else %}btn-outline-light{% endif %}" href="/participants?basket={{ main_basket }}">{{ main_basket }} + {{ reserve_basket }}</a>
{% endfor %}
</div>

{% if is_empty %}
<div class="alert alert-secondary">Еще никто не зарегистрировался</div>
{% else %}
<h4>Основной состав</h4>
{% if main_users %}
<table class="table table-dark table-striped">
<tr><th>{{ tr('participants_nick') }}</th><th>{{ tr('participants_steam_id') }}</th><th>{{ tr('participants_game') }}</th><th>{{ tr('participants_current') }}</th><th>{{ tr('participants_highest') }}</th><th>{{ tr('participants_telegram') }}</th><th>{{ tr('participants_discord') }}</th></tr>
{% for u in main_users %}
<tr><td>{{u.nickname}}</td><td>{{u.steam_id}}</td><td>{{u.game_nickname}}</td><td>{{u.current_rank}}</td><td>{{u.highest_rank}}</td><td>{{u.telegram or ''}}</td><td>{{u.discord or ''}}</td></tr>
{% endfor %}
</table>
{% else %}
<div class="alert alert-secondary">В данной корзине нет участников</div>
{% endif %}

<h4>Резерв</h4>
{% if reserve_users %}
<table class="table table-dark table-striped">
<tr><th>{{ tr('participants_nick') }}</th><th>{{ tr('participants_steam_id') }}</th><th>{{ tr('participants_game') }}</th><th>{{ tr('participants_current') }}</th><th>{{ tr('participants_highest') }}</th><th>{{ tr('participants_telegram') }}</th><th>{{ tr('participants_discord') }}</th></tr>
{% for u in reserve_users %}
<tr><td>{{u.nickname}}</td><td>{{u.steam_id}}</td><td>{{u.game_nickname}}</td><td>{{u.current_rank}}</td><td>{{u.highest_rank}}</td><td>{{u.telegram or ''}}</td><td>{{u.discord or ''}}</td></tr>
{% endfor %}
</table>
{% else %}
<div class="alert alert-secondary">В данной корзине нет участников</div>
{% endif %}
{% endif %}
{% endblock %}
