TRANSLATIONS = {
    "en": {
        "title": "DAC Tournament",
        "nav_participants": "Participants",
        "nav_tournament": "Tournament",
        "nav_donate": "Donate",
        "nav_rules": "Rules",
        "nav_archive": "Archive",
        "register": "Registration",
        "submit": "Submit",
        "already_registered": "You are already registered",
        "registered_ok": "Registration completed",
        "registration_closed": "Registration closed, tournament started",
        "msg_invalid_steam_id": "Invalid Steam ID",
        "msg_chat_disabled": "Chat is disabled",
        "msg_chat_disabled_admin": "Chat is disabled by admin.",
        "msg_message_too_long": "Message is too long",
        "msg_cooldown_active": "Please wait before sending the next message",
        "msg_user_exists": "User already exists",
        "msg_invited_added": "Invited player added",
        "msg_group_not_found": "Group not found",
        "msg_lobby_password_updated": "Lobby password updated",
        "msg_game_saved": "Game saved",
        "msg_manual_tie_break_saved": "Manual tie-break saved",
        "msg_playoff_stage_started": "Playoff stage started",
        "msg_players_promoted": "Players promoted",
        "msg_player_moved": "Player moved",
        "msg_player_replaced": "Player replaced",
        "msg_points_adjusted": "Points adjusted",
        "msg_playoff_game_saved": "Playoff game saved",
        "msg_donation_links_saved": "Donation links saved",
        "msg_donation_methods_saved": "Donation methods saved",
        "msg_prize_pool_saved": "Prize pool saved",
        "msg_donors_saved": "Donors saved",
        "msg_rules_saved": "Rules saved",
        "msg_archive_saved": "Archive saved",
        "msg_chat_settings_saved": "Chat settings saved",
        "msg_operation_failed": "Operation failed",
        "msg_status_ok": "Success",
        "msg_status_warn": "Warning",
        "participants_title": "Participants",
        "participants_empty": "No participants in this basket",
        "participants_nick": "Nick",
        "participants_steam_id": "Steam ID",
        "participants_game": "Game",
        "participants_current": "Current",
        "participants_highest": "Highest",
        "participants_telegram": "Telegram",
        "participants_discord": "Discord",
        "tournament_title": "Tournament",
        "tournament_group_stage": "Group stage",
        "tournament_no_draw": "Draw has not been created yet",
        "tournament_game": "Game",
        "tournament_lobby_pw": "Lobby PW",
        "tournament_playoff_title": "Current playoff stage / bracket",
        "tournament_started": "started",
        "tournament_pending": "pending",
        "tournament_scoring_mode": "Scoring mode",
        "tournament_matches": "Matches",
        "tournament_players": "Players",
        "tournament_standings": "Standings",
        "tournament_user_id": "User ID",
        "tournament_status": "Status",
        "tournament_status_out": "out",
        "tournament_status_in": "in",
        "tournament_bracket_matches": "Bracket / matches",
        "tournament_match": "Match",
        "donate_title": "Donate",
        "donate_links": "Donation links",
        "donate_no_links": "No links yet.",
        "donate_card_crypto": "Card / Crypto",
        "donate_no_methods": "No payment methods yet.",
        "donate_prize_pool": "Prize pool",
        "donate_no_prize_pool": "No prize pool data yet.",
        "donate_donors": "Donors",
        "donate_no_donors": "No donors yet.",
        "rules_title": "Rules",
        "archive_title": "Archive",
        "archive_open": "Open",
        "archive_empty": "No archive entries yet.",
        "admin_title": "Admin Panel",
        "admin_login_title": "Admin Login",
        "admin_login_placeholder": "Admin key",
        "admin_login_submit": "Login",
        "admin_logout": "Logout",
        "msg_admin_login_failed": "Invalid admin key",
        "admin_registration_toggle": "Registration toggle",
        "admin_registration_open": "Registration open",
        "admin_save": "Save",
        "admin_manual_invited_add": "Manual invited add",
        "admin_nickname": "Nickname",
        "admin_steam_id_or_url": "Steam ID or URL",
        "admin_add_to_invited": "Add to INVITED",
        "admin_stages_editor": "Stages editor",
        "admin_key": "key",
        "admin_date": "date",
        "admin_title_ru": "title_ru",
        "admin_title_en": "title_en",
        "admin_active": "active",
        "admin_save_stage": "Save stage",
        "admin_chat_settings": "Chat settings",
        "admin_chat_enabled": "Chat enabled",
        "admin_save_chat_settings": "Save chat settings",
        "admin_rules_content": "Rules content",
        "admin_rules_text": "Rules text",
        "admin_save_rules": "Save rules",
        "admin_content_blocks": "Content blocks (one per line)",
        "admin_save_donation_links": "Save donation links",
        "admin_save_donation_methods": "Save donation methods",
        "admin_save_prize_pool": "Save prize pool",
        "admin_save_donors": "Save donors",
        "admin_save_archive": "Save archive",
        "admin_draw_controls": "Draw controls",
        "admin_auto_draw": "Automatic draw",
        "admin_generate_playoff": "Generate playoff from groups",
        "admin_group_ids": "IDs in group",
        "admin_save_pw": "Save PW",
        "admin_save_game_result": "Save game result",
        "admin_save_tie_break": "Save tie-break",
        "admin_groups_not_created": "Groups are not created yet",
        "index_nickname": "Nickname",
        "index_steam_id_or_url": "Steam ID / URL",
        "index_check_steam": "Check Steam",
        "index_steam_id": "Steam ID",
        "index_game_nickname": "Game nickname",
        "index_current_rank": "Current rank",
        "index_highest_rank": "Highest rank",
        "index_chat": "Chat",
        "index_temp_nick": "Temporary nickname",
        "index_message": "Message",
        "index_connect_send": "Connect & Send",
        "index_cooldown": "Cooldown",
        "index_max_length": "Max length",
        "index_stages": "Stages",
        "index_active": "active",
        "index_done": "done",
        "index_tbd": "TBD",
        "js_enter_steam": "Enter Steam ID or profile URL.",
        "js_checking_steam": "Checking Steam...",
        "js_steam_data_failed": "Failed to fetch Steam data.",
        "js_steam_ok": "Steam verified, you can submit the form.",
        "js_steam_network_error": "Network error while checking Steam.",
    },
    "ru": {
        "title": "DAC Турнир",
        "nav_participants": "Участники",
        "nav_tournament": "Турнир",
        "nav_donate": "Донаты",
        "nav_rules": "Правила",
        "nav_archive": "Архив",
        "register": "Регистрация",
        "submit": "Отправить",
        "already_registered": "Вы уже зарегистрированы",
        "registered_ok": "Регистрация завершена",
        "registration_closed": "Регистрация закрыта, турнир начался",
        "msg_invalid_steam_id": "Неверный Steam ID",
        "msg_chat_disabled": "Чат отключен",
        "msg_chat_disabled_admin": "Чат отключен администратором.",
        "msg_message_too_long": "Сообщение слишком длинное",
        "msg_cooldown_active": "Подождите перед отправкой следующего сообщения",
        "msg_user_exists": "Пользователь уже существует",
        "msg_invited_added": "Приглашенный участник добавлен",
        "msg_group_not_found": "Группа не найдена",
        "msg_lobby_password_updated": "Пароль лобби обновлен",
        "msg_game_saved": "Результат игры сохранен",
        "msg_manual_tie_break_saved": "Тай-брейк сохранен",
        "msg_playoff_stage_started": "Стадия плей-офф запущена",
        "msg_players_promoted": "Игроки повышены",
        "msg_player_moved": "Игрок перемещен",
        "msg_player_replaced": "Игрок заменен",
        "msg_points_adjusted": "Очки скорректированы",
        "msg_playoff_game_saved": "Результат плей-офф сохранен",
        "msg_donation_links_saved": "Ссылки на донат сохранены",
        "msg_donation_methods_saved": "Методы доната сохранены",
        "msg_prize_pool_saved": "Призовой фонд сохранен",
        "msg_donors_saved": "Список доноров сохранен",
        "msg_rules_saved": "Правила сохранены",
        "msg_archive_saved": "Архив сохранен",
        "msg_chat_settings_saved": "Настройки чата сохранены",
        "msg_operation_failed": "Операция завершилась с ошибкой",
        "msg_status_ok": "Успешно",
        "msg_status_warn": "Предупреждение",
        "participants_title": "Участники",
        "participants_empty": "В данной корзине нет участников",
        "participants_nick": "Ник",
        "participants_steam_id": "Steam ID",
        "participants_game": "Игра",
        "participants_current": "Текущий",
        "participants_highest": "Максимальный",
        "participants_telegram": "Telegram",
        "participants_discord": "Discord",
        "tournament_title": "Турнир",
        "tournament_group_stage": "Групповой этап",
        "tournament_no_draw": "Жеребьевка еще не произведена",
        "tournament_game": "Игра",
        "tournament_lobby_pw": "Пароль лобби",
        "tournament_playoff_title": "Текущий этап плей-офф / сетка",
        "tournament_started": "запущен",
        "tournament_pending": "ожидает",
        "tournament_scoring_mode": "Режим подсчета очков",
        "tournament_matches": "Матчи",
        "tournament_players": "Игроки",
        "tournament_standings": "Таблица",
        "tournament_user_id": "ID участника",
        "tournament_status": "Статус",
        "tournament_status_out": "выбыл",
        "tournament_status_in": "в игре",
        "tournament_bracket_matches": "Сетка / матчи",
        "tournament_match": "Матч",
        "donate_title": "Донаты",
        "donate_links": "Ссылки на донат",
        "donate_no_links": "Пока нет ссылок.",
        "donate_card_crypto": "Карта / Крипта",
        "donate_no_methods": "Пока нет способов оплаты.",
        "donate_prize_pool": "Призовой фонд",
        "donate_no_prize_pool": "Пока нет данных о призовом фонде.",
        "donate_donors": "Доноры",
        "donate_no_donors": "Пока нет доноров.",
        "rules_title": "Правила",
        "archive_title": "Архив",
        "archive_open": "Открыть",
        "archive_empty": "Пока нет записей архива.",
        "admin_title": "Панель администратора",
        "admin_login_title": "Вход администратора",
        "admin_login_placeholder": "Ключ администратора",
        "admin_login_submit": "Войти",
        "admin_logout": "Выйти",
        "msg_admin_login_failed": "Неверный ключ администратора",
        "admin_registration_toggle": "Переключатель регистрации",
        "admin_registration_open": "Регистрация открыта",
        "admin_save": "Сохранить",
        "admin_manual_invited_add": "Ручное добавление в invited",
        "admin_nickname": "Ник",
        "admin_steam_id_or_url": "Steam ID или URL",
        "admin_add_to_invited": "Добавить в INVITED",
        "admin_stages_editor": "Редактор этапов",
        "admin_key": "ключ",
        "admin_date": "дата",
        "admin_title_ru": "title_ru",
        "admin_title_en": "title_en",
        "admin_active": "активен",
        "admin_save_stage": "Сохранить этап",
        "admin_chat_settings": "Настройки чата",
        "admin_chat_enabled": "Чат включен",
        "admin_save_chat_settings": "Сохранить настройки чата",
        "admin_rules_content": "Содержимое правил",
        "admin_rules_text": "Текст правил",
        "admin_save_rules": "Сохранить правила",
        "admin_content_blocks": "Блоки контента (по одному на строку)",
        "admin_save_donation_links": "Сохранить ссылки на донат",
        "admin_save_donation_methods": "Сохранить методы доната",
        "admin_save_prize_pool": "Сохранить призовой фонд",
        "admin_save_donors": "Сохранить доноров",
        "admin_save_archive": "Сохранить архив",
        "admin_draw_controls": "Управление жеребьевкой",
        "admin_auto_draw": "Автоматическая жеребьевка",
        "admin_generate_playoff": "Сгенерировать playoff из групп",
        "admin_group_ids": "ID в группе",
        "admin_save_pw": "Сохранить PW",
        "admin_save_game_result": "Сохранить результат игры",
        "admin_save_tie_break": "Сохранить тай-брейк",
        "admin_groups_not_created": "Группы пока не созданы",
        "index_nickname": "Ник",
        "index_steam_id_or_url": "Steam ID / URL",
        "index_check_steam": "Проверить Steam",
        "index_steam_id": "Steam ID",
        "index_game_nickname": "Игровой ник",
        "index_current_rank": "Текущий ранг",
        "index_highest_rank": "Максимальный ранг",
        "index_chat": "Чат",
        "index_temp_nick": "Временный ник",
        "index_message": "Сообщение",
        "index_connect_send": "Подключиться и отправить",
        "index_cooldown": "Кулдаун",
        "index_max_length": "Макс. длина",
        "index_stages": "Этапы",
        "index_active": "активен",
        "index_done": "завершен",
        "index_tbd": "Скоро",
        "js_enter_steam": "Введите Steam ID или ссылку на профиль.",
        "js_checking_steam": "Проверяем Steam...",
        "js_steam_data_failed": "Не удалось получить данные Steam.",
        "js_steam_ok": "Steam проверен, можно отправлять форму.",
        "js_steam_network_error": "Ошибка сети при проверке Steam.",
    },
}


def get_lang(lang_cookie: str | None) -> str:
    # Возвращаем язык интерфейса с безопасным фолбэком.
    return lang_cookie if lang_cookie in {"en", "ru"} else "en"


def t(lang: str, key: str) -> str:
    # Получаем перевод по ключу.
    return TRANSLATIONS.get(lang, TRANSLATIONS["en"]).get(key, key)
